<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <!--1. body태그 전체 스타일 적용-->
    <!--2. table태그 전체 스타일 적용-->
    <!--3. th 태그 통해서 umc 제목이랑 입력창 사이에 윗줄 테두리 추가-->
    <!--4. p태그 전체 스타일 적용 (해야 할 일, 해낸 일 제목)-->
    <!--5. input태그 전체 스타일 적용-->
    <!--6. input태그에 있는 placeholder 이탤릭체로 변경-->
    <!--7. .item-container 클래스 스타일 적용-->
    <!--8. .button 클래스 스타일 적용-->
    <style>
      body {
        background-color: aliceblue;
        text-align: center;
      }

      table {
        width: 80%;
        margin: 0 auto;
        padding: 50px;
      }

      th {
        padding-bottom: 10px; 
        border-bottom: 3px solid #d3dbe9; 
      }

      p {
        text-align: center;
        color: black;
        text-decoration: underline;
        text-decoration-thickness: 3px;
        text-decoration-color: #d3dbe9;
        text-underline-offset: 5px;
        font-weight: bold;
      }

      input{
        width: 80%; 
        height: 5%;
        padding: 20px 20px 20px 20px;
        background-color: rgb(255, 255, 255);
      }

      input::placeholder{
        font-style: italic;
      }

      .item-container{
        display: flex;
        width: 40%;
        margin: auto;
        padding: 10px 0;
        justify-content: space-between;
        align-items: center;
        border-bottom: 3px solid #d3dbe9;
        font-weight: bold;
      }

      .button {
        background-color: #d3dbe9; 
        border: none;
        padding: 1px 1px; 
        cursor: pointer; 
      }
    </style>
  </head>

  <body>
    <table>
      <!--표 제목-->
      <th colspan="4" width="100%" height="120">
        <h1>UMC Study Plan</h1>
      </th>

      <!--입력창-->
      <tr>
        <td colspan="4" width="100%" height="100">
            <input type="text" id="plan" name="plan" placeholder="스터디 계획을 작성해보세요!" ></input>
        </td> 
      </tr>

      <!--해야 할 일, 해낸 일 제목-->
      <tr>
        <td colspan="2"><p>해야 할 일</p></td>
        <td colspan="2"><p>해낸 일</p></td>
      </tr>

      <!--리스트 와 버튼-->
      <tr>
        <td colspan="2" width="40%">
          <div id="todo-list"></div>
        </td>

        <td colspan="2" width="40%">
          <div id="complete-list"></div>
        </td>
      </tr>
    </table>

    <script>
      const inputList = document.getElementById('plan');
      const todoList = document.getElementById('todo-list');
      const completelist = document.getElementById('complete-list');

      //input에 키보드 이벤트 추가
      inputList.addEventListener('keypress', function(event) {
        
        //enter 눌렀을 때
        if (event.key === 'Enter' && inputList.value.trim() !== "") {
          const itemContainer = document.createElement("div");
          itemContainer.className = "item-container"; // 클래스 이름 추가, style

          const itemText = document.createElement("span");
          itemText.textContent = inputList.value;

          const finishButton = document.createElement('button');     
          finishButton.className = 'button'; // 버튼 클래스 추가, style
          finishButton.textContent = '완료';

          //완료 버튼 눌렀을 때
          finishButton.onclick = function() { 
            const completeContainer = document.createElement('div'); // 해낸 일 항목 컨테이너
            completeContainer.className = 'item-container'; // 해낸 일 항목 컨테이너
            completeContainer.textContent = itemText.textContent;
            
            const deleteButton = document.createElement('button');
            deleteButton.className = 'button'; // 삭제 버튼 클래스 추가, style
            deleteButton.textContent = '삭제';

            //삭제 버튼 눌렀을 때
            deleteButton.onclick = function() {
              completeContainer.remove(); // 해낸 일 목록에서 항목 제거
            };

            completeContainer.appendChild(deleteButton); // 삭제 버튼을 해낸 일 항목에 추가
            completelist.appendChild(completeContainer); // 해낸 일 목록에 추가

            itemContainer.remove(); // 해야 할 일 목록에서 항목 제거
          };

          itemContainer.append(itemText);
          itemContainer.append(finishButton);
          todoList.append(itemContainer);
          inputList.value = ''; // 입력 필드 비우기
        }
      });
    </script>
  </body>
</html>
